Spike
=====

`Spike <https://github.com/riscv/riscv-isa-sim>`_, the RISC-V ISA Simulator, implements a functional model of one or more RISC-V harts. 

Installation
------------

Set the RISCV environment variable to the RISC-V tools install path.

.. code-block:: console
  
  $ apt-get install device-tree-compiler
  $ mkdir build
  $ cd build
  $ ../configure --prefix=$RISCV --enable-commitlog
  $ make
  $ [sudo] make install

Design
------

The plugin creates a Makefile in your `workdir` based on the parameters set in `config.ini`, this 
is then called by the pytest framework which creates a JSON file containing the file report and 
runs the makefile in the order.

The framework returns a JSON which is then parsed to create a final HTML report.
For each test the plugin will also return a `ref.dump` which is compared to the `dut.dump` file 
generated by the dut plugin to check if the tests have passed or failed.


